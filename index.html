<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <title>Compra_gamer </title>
</head>
<body class="dark-bg">
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

<div class="container-fluid">
    <img src="./imagenes/logo.jpeg" alt="Logo de Compra Gamer" width="75px">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="./index.html">Inicio</a>
        </li>
        </li>
        <li class="nav-item dropdown" id="productos-menu">
        <a class="nav-link dropdown-toggle" href="./productosgaming.html" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Productos
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="./productosgaming.html">Gaming</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
        </ul>
        </li>
        <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="./contacto.html">Contacto</a>
        </li>
        
    </ul>
    <script>
document.addEventListener('DOMContentLoaded', function () {
const productosLink = document.querySelector('#productosLink');
productosLink.addEventListener('click', function (e) {
    window.location.href = 'productos.html';
});
});
</script>


<form class="search-form">

<input type="text" placeholder="Buscar por productos" name="q" autocomplete="off" />
<button type="submit"><i class="fas fa-search"></i></button>
</form>

<div class="cart-summary" onclick="openCart()">
  <i class="fas fa-shopping-cart"></i>
  <span class="cart-count">0</span>
  <span class="cart-separator">/</span>
  <span class="cart-total">0 ARS</span>
</div>


<!-- ðŸ”½ AcÃ¡ pegÃ¡s esto (PRIMERA PARTE) -->
<div id="checkout-panel" class="cart-panel hidden">
  <h3>ðŸ§¾ Finalizar Compra</h3>
  <form id="checkout-form" action="https://formspree.io/f/xanegkve" method="POST">
    <div id="checkout-items"></div>

    <input type="hidden" name="Productos" id="productos-field" />

    <p style="margin-top: 20px;">DirecciÃ³n de envÃ­o:</p>
    <input type="text" name="DirecciÃ³n" required placeholder="Ej: Calle 123" />

    <p style="margin-top: 15px;">Correo electrÃ³nico:</p>
    <input type="email" name="Correo" required placeholder="tucorreo@ejemplo.com" />

    <p style="margin-top: 15px;">Medio de pago:</p>
    <select name="Tarjeta" required>
      <option value="">SeleccionÃ¡ una opciÃ³n</option>
      <option value="Visa">ðŸ’³ Tarjeta de Credito</option>
      <option value="MasterCard">ðŸ’³ Tarjeta de Debito</option>
      <option value="MercadoPago">ðŸ’° MercadoPago</option>
    </select>

    <p style="margin-top: 15px; color:#aaa;">ðŸšš EnvÃ­o gratis a todo el paÃ­s</p>

    <button type="submit" class="clear-btn">Confirmar compra</button>
    <button type="button" class="close-btn" onclick="closeCheckout()">Cerrar</button>

  </form>
</div>



    </div>
    </div>
</div>
</nav>
    </header>
    

<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
<div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
</div>
<div class="carousel-inner">
<div class="carousel-item active">
<img src="./imagenes/gaming.jpeg" class="d-block w-100" alt="Auris 1">
</div>
<div class="carousel-item">
<img src="./imagenes/gaming2.jpeg" class="d-block w-100" alt="Silla Gamer">
</div>
<div class="carousel-item">
<img src="./imagenes/gamin3.jpeg" class="d-block w-100" alt="Monitor Gamer">
</div>
</div>


<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
</button>
<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
</button>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<div id="cart-panel" class="cart-panel hidden">
  <h3>ðŸ›’ Carrito</h3>
  <div id="cart-items"></div>
  <div class="total" id="cart-total"></div>
  <button class="clear-btn" onclick="clearCart()">Vaciar</button>
    <button class="clear-btn" onclick="openCheckout()">Comprar</button>
  <button class="close-btn" onclick="closeCart()">Cerrar</button>
</div>

</body>
<footer>
    <p>
        <hr>
            <p>Estudiante: Lucas Molina - 2025 ! Email: contacto@compragamer.com</p>
            <i class="fa-brands fa-instagram"></i>
            <i class="fa-brands fa-linkedin"></i>
            
        <hr>
    </p>
    </footer>
 <script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function updateCartSummary() {
  const cartCount = document.querySelector(".cart-count");
  const cartTotal = document.querySelector(".cart-total");
  const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);
  const totalPrice = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);
  cartCount.textContent = totalItems;
  cartTotal.textContent = `${totalPrice} ARS`;
}

function openCart() {
  document.getElementById("cart-panel").classList.remove("hidden");
  renderCart();
}

function closeCart() {
  document.getElementById("cart-panel").classList.add("hidden");
}

function renderCart() {
  const cartItemsContainer = document.getElementById("cart-items");
  const cartTotal = document.getElementById("cart-total");
  cartItemsContainer.innerHTML = "";
  let total = 0;

  if (cart.length === 0) {
    cartItemsContainer.innerHTML = "<p>Carrito vacÃ­o</p>";
    cartTotal.textContent = "";
    return;
  }

  cart.forEach((item, index) => {
    const itemDiv = document.createElement("div");
    itemDiv.className = "cart-item";
    itemDiv.innerHTML = `
      <img src="${item.img}" alt="" width="40" style="margin-right:10px">
      <div style="flex: 1">
        <strong>${item.name}</strong><br>
        <input type="number" min="1" value="${item.quantity}" onchange="updateQuantity(${index}, this.value)">
      </div>
      <span>$${item.price * item.quantity}</span>
      <button onclick="removeItem(${index})">x</button>
    `;
    cartItemsContainer.appendChild(itemDiv);
    total += item.price * item.quantity;
  });

  cartTotal.textContent = `Total: $${total}`;
}

function updateQuantity(index, qty) {
  cart[index].quantity = parseInt(qty);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
  updateCartSummary();
}

function removeItem(index) {
  cart.splice(index, 1);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
  updateCartSummary();
}

function clearCart() {
  localStorage.removeItem("cart");
  cart = [];
  renderCart();
  updateCartSummary();
}

// Agregar al carrito

document.querySelectorAll(".btn-add-cart").forEach(button => {
  button.addEventListener("click", () => {
    const name = button.getAttribute("data-name");
    const price = parseFloat(button.getAttribute("data-price"));
    const img = button.getAttribute("data-img") || "";
    const existingItem = cart.find(item => item.name === name);
    if (existingItem) {
      existingItem.quantity += 1;
    } else {
      cart.push({ name, price, quantity: 1, img });
    }
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartSummary();
  });
});

document.addEventListener("DOMContentLoaded", updateCartSummary);
</script>
<script>
function openCheckout() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  if (cart.length === 0) return alert("El carrito estÃ¡ vacÃ­o.");

  // Cerrar carrito antes de abrir checkout
  closeCart();

  const checkoutPanel = document.getElementById("checkout-panel");
  const checkoutItems = document.getElementById("checkout-items");
  const productosField = document.getElementById("productos-field");

  let productosTexto = "";
  checkoutItems.innerHTML = "";
  cart.forEach((item) => {
    const div = document.createElement("div");
    div.style.marginBottom = "8px";
    div.innerHTML = `
      <strong>${item.name}</strong> x ${item.quantity} â†’ $${item.price * item.quantity}
    `;
    checkoutItems.appendChild(div);
    productosTexto += `${item.name} x ${item.quantity} ($${item.price * item.quantity})\n`;
  });

  productosField.value = productosTexto.trim();

  checkoutPanel.classList.remove("hidden");
}
</script>

<script>
function closeCheckout() {
  const panel = document.getElementById("checkout-panel");
  if (panel) {
    panel.classList.add("hidden");
  }
}
</script>




